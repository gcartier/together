(package together
  
  (title "Together")
  (description "Together")
  (authors "Guillaume Cartier" "Barbara Samson")
  (stage alpha)
  (root "src")
  (products (together (title "Together")
                      (prefix "Together")
                      (run together.run)
                      (product together.product)
                      (build (together executable: "Together" minimum-heap: 500000 bundle: "together" resources: "resources/together"))
                      (update together
                              together.appl
                              together.boot
                              together.boot-processor
                              together.boot-server
                              together.customize
                              together.debugger
                              together.devel
                              together.domain
                              together.emulation
                              together.exception
                              together.experiment
                              together.gathering
                              together.login
                              together.network
                              together.process
                              together.product
                              together.product-base
                              together.product-processor
                              together.product-server
                              together.replay
                              together.run
                              together.run-processor
                              together.run-server
                              together.script
                              together.scripts
                              together.server
                              together.settings
                              together.simulation
                              together.simulator
                              together.space
                              together.validate
                              together.visualizer
                              together.window
                              together.windows
                              together.world
                              together.zone)
                      (dependencies gambit.walk
                                    jazz.editor.commonlisp
                                    jazz.editor.jazz
                                    jazz.fonts
                                    jazz.git
                                    (cond
                                      ((or mac windows) jiri))
                                    jazz.platform
                                    world
                                    world.client
                                    world.server))
            (together-processor (title "Processor")
                                (prefix "Processor")
                                (run together.run-processor)
                                (product together.product-processor)
                                (build (together-processor executable: "Together-Processor" minimum-heap: 200000 bundle: "together-processor" resources: "resources/together-processor"))
                                (dependencies world.processor))
            (together-server (title "Server")
                             (prefix "Server")
                             (run together.run-server)
                             (product together.product-server)
                             (build (together-server executable: "Together-Server" minimum-heap: 100000 bundle: "together-server" resources: "resources/together-server"))
                             (dependencies world.server))
            (together-worker (title "Worker")
                             (prefix "Worker")
                             (run together.run-worker)
                             (product together.product-worker)
                             (build (together-worker executable: "Together-Worker" minimum-heap: 500000 bundle: "together-worker" resources: "resources/together-worker" include-compiler?: #t))
                             (update together.boot-worker
                                     together.product-worker
                                     together.run-worker
                                     together.worker-application
                                     together.worker-process
                                     together.worker-settings)
                             (dependencies world.worker))
            (together-world (product together.product-world))
            (together-all (dependencies together
                                        together-processor
                                        together-server
                                        together-worker))
            (together-script (run together.scripts)))
  (project ".project"))
